\chapter{Introduction}

Using a modern terminology, portfolio management relied solely on the expertise of the managers involved. This continued until the 50s, when portfolio management became contaminated with ideas from economics, which at that time, had already digested the mathematical formulation of statistic and probability, leading to a natural mathematical formulation for portfolio theory.
The problem of portfolio optimization is very important as the amount of assets managed by funds and private investors is currently more than $85$ trillion USD, a quantity comparable to the global GDP.\footnote{\url{https://www.opalesque.com/671554/Global_assets_under_management_rose_to155.html}.}

Classical investment techniques for the problem of portfolio management derive from the knowledge of the statistical distribution of the assets return. Then, once the statistical model has been chosen, the problem get solved by optimizing the expected value of the utility of some random variable (usually accounting for the trade-off between risk and return) that describes the value of the portfolio in some fixed time point in the future. This line of thinking has been proposed and sustained by Markowitz, Samuelson and Fama \cite{markowitz1952portfolio}, and it is now called Modern Portfolio Theory (MPT). 

This approach is the standard in academia and when designing portfolios in practice, but it is known to be very susceptible to errors in the modeling of the random variables that model the asset returns. 
Indeed, it is known that markets have a non-stationary behavior, which means that any statistical assumption is ephemeral and unreliable \cite{schmitt2013non}. This techniques are also referred to as backward looking, \emph{i.e.}, they optimize w.r.t. inferences made on past realizations. In the complex financial environment of the past decades we saw how unpredictable certain events can be, and how any statistical assumption can be out-turned overnight.

In this thesis, we will present the orthogonal and lesser-known approach of \emph{Online Portfolio Optimization} that has been originated from the fields of information theory at the Bell Labs in the 1950, from the works of Shannon, Kelly and Cover. This methods were included in the classical portfolio theory framework, under the name of Capital Growth Theory \cite{hakansson1995capital}, and then got included in the machine learning literature under the framework of Online Learning \cite{cesa2006prediction}. Only recently this field has been taken into the Online Optimization field too \cite{hazan2016introduction}. This formulation of sequential decision making has interesting properties, such as stability in a game theory fashion (\emph{e.g.}, equilibrium) and robustness versus adversarial manipulation.
This approach has been successfully applied to gambling and sport betting \cite{thorp1966beat}, \cite{hausch1981efficiency}. The fascinating story of this works can be found in \cite{poundstone2010fortune}.
One of the most important points in favor of the techniques in Online Learning are the strong theoretical guarantees provided by algorithms developed under this framework. These guarantees come from the game theory concept of \emph{Regret}, which is a form of dissatisfaction originated from having taken an action, measured against the best actions taken by a class of  adversaries, called \emph{Experts}. The guarantees, that algorithms in this framework achieve, are of performing asymptotically as good as the best player in the expert class.

Principal in this thesis will be the extension of the theoretical framework of these methodologies to the presence of transaction costs in financial applications, and to provide strong theoretical assurance even in the presence of transaction costs. Indeed, in many financial situations transaction costs are not modeled and this can lead to over-optimistic findings. We think that research in this direction can eventually bridge the gap between practical applications and academic research in Online Portfolio Optimization.

To tackle this problem we will propose the Online Gradient Descent algorithm for the Online Portfolio Optimization framework. Furthermore, we will show that it has theoretical guarantees on the wealth and on the transaction costs in which it incurs during the investment period. Finally we will present an experimental campaign to show that our proposed algorithm has good empirical performances on the wealth obtained in the absence of trading costs, and w.r.t. the transaction cost rate.

\section{Structure of the Thesis}

In Chapter \ref{ch:OnlineLearning} we present the classical framework of Online Learning, starting from the framework of Online Learning with Expert Advice, draw the connections with more classical frameworks of Game Theory and, then, present the Online Convex Optimization framework, which is the most suited to embed the problem of Online Portfolio Optimization. 

In Chapter \ref{ch:OPO} we will introduce the problem of probability assignment and how this is a natural extension of the Prediction with Experts advice presented in Chapter \ref{ch:OnlineLearning}. Then, we will draw the connections of the problem of probability assignment to information theory, where the field of Online Portfolio Optimization was originally developed. The main reason of Chapter \ref{ch:OnlineLearning} and \ref{ch:OPO} is to introduce the theory necessary for the understanding of the algorithms used in the Online Portfolio Optimization.

In Chapter \ref{ch:transaction_costs} we will formally present our extended framework of Online Portfolio Optimization with Transaction Costs, and introduce the central concept of Total Regret, that we will use in throughout the thesis. In Chapter \ref{ch:algos} we will present the algorithms of  state of the art of the Online Portfolio Optimization framework, and explain their connections to the theoretical framework presented in Chapter \ref{ch:OnlineLearning} and \ref{ch:OPO}. In Chapter \ref{ch:OGD} we will extend the celebrated Online Gradient Descent algorithm to the Online Portfolio Optimization with Transaction Costs, and prove its theoretical guarantees in this framework.

In Chapter \ref{ch:experiments} we present the numerical results of the Online Portfolio Optimization with Transaction Costs problem, both on standard datasets and on a customized dataset of data coming from the last $12$ months. Finally, Chapter \ref{ch:conclusions} summarizes the main contributions of this work, and details the interesting possible future developments in this framework.
